2025-03-06 13:01:31 | ERROR | 'Risk' object has no attribute 'cod'
2025-03-06 13:01:31 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 42, in post_risk
    risks.append(risk.to_json())
  File "/app/src/models/RiskModel.py", line 14, in to_json
    'cod': self.cod,
AttributeError: 'Risk' object has no attribute 'cod'

2025-03-06 13:07:17 | ERROR | 'username'
2025-03-06 13:07:17 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:09:05 | ERROR | 'username'
2025-03-06 13:09:05 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:10:48 | ERROR | 'username'
2025-03-06 13:10:48 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:21:44 | ERROR | 'username'
2025-03-06 13:21:44 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:25:03 | ERROR | 'username'
2025-03-06 13:25:03 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:38:51 | ERROR | 'username'
2025-03-06 13:38:51 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:40:15 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 13:40:15 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 13:42:40 | ERROR | 'username'
2025-03-06 13:42:40 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:43:03 | ERROR | 'username'
2025-03-06 13:43:03 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:45:54 | ERROR | 'username'
2025-03-06 13:45:54 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:47:17 | ERROR | 'username'
2025-03-06 13:47:17 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:48:41 | ERROR | 'username'
2025-03-06 13:48:41 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 13:56:26 | ERROR | 'username'
2025-03-06 13:56:26 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 14:05:42 | ERROR | local variable 'text' referenced before assignment
2025-03-06 14:05:42 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 32, in post_risks
    if not text:
UnboundLocalError: local variable 'text' referenced before assignment

2025-03-06 14:06:07 | ERROR | local variable 'text' referenced before assignment
2025-03-06 14:06:07 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 32, in post_risks
    if not text:
UnboundLocalError: local variable 'text' referenced before assignment

2025-03-06 14:07:52 | ERROR | local variable 'text' referenced before assignment
2025-03-06 14:07:52 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 32, in post_risks
    if not text.strip():
UnboundLocalError: local variable 'text' referenced before assignment

2025-03-06 15:30:47 | ERROR | 'username'
2025-03-06 15:30:47 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:31:30 | ERROR | 'username'
2025-03-06 15:31:30 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:34:08 | ERROR | 'username'
2025-03-06 15:34:08 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:36:33 | ERROR | 'username'
2025-03-06 15:36:33 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:37:02 | ERROR | 'username'
2025-03-06 15:37:02 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:38:26 | ERROR | 'username'
2025-03-06 15:38:26 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:39:04 | ERROR | 'username'
2025-03-06 15:39:04 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:41:55 | ERROR | 'username'
2025-03-06 15:41:55 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:42:47 | ERROR | 'username'
2025-03-06 15:42:47 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:43:37 | ERROR | 'username'
2025-03-06 15:43:37 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 15:45:45 | ERROR | 'username'
2025-03-06 15:45:45 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 20, in login
    username = request.json['username']
KeyError: 'username'

2025-03-06 18:44:42 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 18:44:42 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 18:44:48 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 18:44:48 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:10:10 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:10:10 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:10:14 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:10:14 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:10:29 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:10:29 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:10:48 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:10:48 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:13:37 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:13:37 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 19:15:14 | ERROR | RiskService.get_risk() missing 1 required positional argument: 'cls'
2025-03-06 19:15:14 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/RiskRoutes.py", line 17, in get_risks
    risk = RiskService.get_risk()
TypeError: RiskService.get_risk() missing 1 required positional argument: 'cls'

2025-03-06 20:21:22 | ERROR | (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')
2025-03-06 20:21:22 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')

2025-03-06 20:21:26 | ERROR | (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')
2025-03-06 20:21:26 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')

2025-03-06 20:21:29 | ERROR | (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')
2025-03-06 20:21:29 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')

2025-03-06 20:22:00 | ERROR | (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')
2025-03-06 20:22:00 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_verifyIdentity does not exist')

2025-03-06 20:25:52 | ERROR | (1146, "Table 'risk_db.users' doesn't exist")
2025-03-06 20:25:52 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'risk_db.users' doesn't exist")

2025-03-06 20:26:02 | ERROR | (1146, "Table 'risk_db.users' doesn't exist")
2025-03-06 20:26:02 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.execute('call sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'risk_db.users' doesn't exist")

2025-03-06 20:27:10 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 20:27:10 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 20:27:10 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 20:27:10 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 16, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

2025-03-06 20:27:20 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 20:27:20 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 20:27:20 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 20:27:20 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 16, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

2025-03-06 20:33:56 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 20:33:56 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 20:33:56 | ERROR | Database connection failed
2025-03-06 20:33:56 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 20:33:56 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 20:33:56 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 20:33:56 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 16, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

2025-03-06 20:36:51 | ERROR | not enough arguments for format string
2025-03-06 20:36:51 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.callproc('sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 259, in callproc
    % ",".join(
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 260, in <genexpr>
    fmt % (index, conn.escape(arg)) for index, arg in enumerate(args)
TypeError: not enough arguments for format string

2025-03-06 20:37:15 | ERROR | not enough arguments for format string
2025-03-06 20:37:15 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 17, in login_user
    cursor.callproc('sp_verifyIdentity(%s, %s)', (user.username, user.password))
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 259, in callproc
    % ",".join(
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 260, in <genexpr>
    fmt % (index, conn.escape(arg)) for index, arg in enumerate(args)
TypeError: not enough arguments for format string

2025-03-06 20:54:58 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')
2025-03-06 20:54:58 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 21, in post_risk
    cursor.callproc('sp_searchRisks', [text])
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')

2025-03-06 20:55:03 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')
2025-03-06 20:55:03 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 21, in post_risk
    cursor.callproc('sp_searchRisks', [text])
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')

2025-03-06 20:55:03 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')
2025-03-06 20:55:04 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 21, in post_risk
    cursor.callproc('sp_searchRisks', [text])
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')

2025-03-06 20:55:08 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')
2025-03-06 20:55:08 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 21, in post_risk
    cursor.callproc('sp_searchRisks', [text])
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')

2025-03-06 20:55:08 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')
2025-03-06 20:55:08 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 21, in post_risk
    cursor.callproc('sp_searchRisks', [text])
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_searchRisks; expected 2, got 1')

2025-03-06 21:07:50 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 21:07:50 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 21:07:50 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 21:07:50 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 13, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

2025-03-06 21:11:34 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 21:11:34 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 21:11:34 | ERROR | Database connection failed
2025-03-06 21:11:34 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 21:11:34 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 21:11:34 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 21:11:34 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 13, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

2025-03-06 23:09:18 | ERROR | tuple index out of range
2025-03-06 23:09:18 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 51, in get_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5], row[6])
IndexError: tuple index out of range

2025-03-06 23:09:30 | ERROR | tuple index out of range
2025-03-06 23:09:30 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 26, in post_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5], row[6])
IndexError: tuple index out of range

2025-03-06 23:09:30 | ERROR | tuple index out of range
2025-03-06 23:09:30 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 51, in get_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5], row[6])
IndexError: tuple index out of range

2025-03-06 23:14:25 | ERROR | tuple index out of range
2025-03-06 23:14:25 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 51, in get_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5], row[6])
IndexError: tuple index out of range

2025-03-06 23:17:26 | ERROR | tuple index out of range
2025-03-06 23:17:26 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 51, in get_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5], row[6])
IndexError: tuple index out of range

2025-03-06 23:18:27 | ERROR | Risk.__init__() missing 1 required positional argument: 'date'
2025-03-06 23:18:27 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 51, in get_risk
    risk = Risk(int(row[0]), row[1], row[2], row[3], row[4], row[5])
TypeError: Risk.__init__() missing 1 required positional argument: 'date'

2025-03-06 23:26:57 | ERROR | (1305, 'PROCEDURE risk_db.sp_updateRisk does not exist')
2025-03-06 23:26:57 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 70, in update_risk
    cursor.callproc(
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_updateRisk does not exist')

2025-03-06 23:36:56 | ERROR | (1305, 'PROCEDURE risk_db.sp_updateRisk does not exist')
2025-03-06 23:36:56 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 70, in update_risk
    cursor.callproc(
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1305, 'PROCEDURE risk_db.sp_updateRisk does not exist')

2025-03-06 23:37:34 | ERROR | (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_updateRisks; expected 6, got 5')
2025-03-06 23:37:34 | ERROR | Traceback (most recent call last):
  File "/app/src/services/RiskService.py", line 70, in update_risk
    cursor.callproc(
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 269, in callproc
    self._query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
    packet.raise_for_error()
  File "/usr/local/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1318, 'Incorrect number of arguments for PROCEDURE risk_db.sp_updateRisks; expected 6, got 5')

2025-03-06 23:52:48 | ERROR | (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2025-03-06 23:52:48 | ERROR | Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 649, in connect
    sock = socket.create_connection(
  File "/usr/local/lib/python3.10/socket.py", line 857, in create_connection
    raise err
  File "/usr/local/lib/python3.10/socket.py", line 845, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/src/database/db_mysql.py", line 9, in get_connection
    return pymysql.connect(
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 361, in __init__
    self.connect()
  File "/usr/local/lib/python3.10/site-packages/pymysql/connections.py", line 716, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

2025-03-06 23:52:48 | ERROR | 'NoneType' object has no attribute 'cursor'
2025-03-06 23:52:48 | ERROR | Traceback (most recent call last):
  File "/app/src/routes/AuthRoutes.py", line 24, in login
    authenticated_user = AuthService.login_user(_user)
  File "/app/src/services/AuthService.py", line 13, in login_user
    with connection.cursor() as cursor:
AttributeError: 'NoneType' object has no attribute 'cursor'

